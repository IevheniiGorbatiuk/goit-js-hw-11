{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export class PixabayAPI{\n    constructor() {\n        this.BASE_URL = 'https://pixabay.com';\n        this.END_POINT = '/api/';\n        this.API_KEY = '?key=42368566-c5457d3930466887d9437b3aa';\n        this.PARAMS_OF_SEARCH = '&image_type=photo&orientation=horizontal&safesearch=true';\n    }\n    getImages(query){\n        const url = this.BASE_URL + this.END_POINT + this.API_KEY + `&q=${encodeURIComponent(query)}` + this.PARAMS_OF_SEARCH;\n        return fetch(url).then(res => res.json());\n    }\n}","import {gallery} from \"../main\";\nfunction templateImg({webformatURL, largeImageURL, tags, likes, views, comments, downloads}){\n    return `<li class=\"gallery-item\"><a href=\"${largeImageURL}\">\n    <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\"></a>\n    <p><b>Likes: </b>${likes}</p>\n    <p><b>Views: </b>${views}</p>\n    <p><b>Comments: </b>${comments}</p>\n    <p><b>Downloads: </b>${downloads}</p>\n    </li>`;\n};\nfunction templateImgs(imgs){\n    return imgs.hits.map(templateImg).join('');\n};\nexport function renderImgs(imgs){\n    const markup = templateImgs(imgs);\n    gallery.innerHTML = markup;\n}","import { PixabayAPI } from \"./js/pixabay-api\";\n// Описаний у документації\nimport iziToast from \"izitoast\";\n// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\n// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { renderImgs } from \"./js/render-functions\";\n\nconst form = document.querySelector('.form');\nexport const gallery = document.querySelector('.gallery');\nconst userInput = document.querySelector('input');\nconst containerDiv = document.querySelector('.container');\nconst pixabayAPI = new PixabayAPI();\nconst showLoader = () => {\n    const loader = document.createElement('span');\n    loader.classList.add('loader');\n    containerDiv.append(loader);\n  };\n\nconst options = {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    animation: 250,\n};\n\nconst removeLoader = () => {\n    const loader = document.querySelector('.loader');\n    if (loader) {\n        loader.remove();\n    }\n  };\n\nform.addEventListener(\"submit\", e =>{\n    showLoader();\n    e.preventDefault();\n    const query = userInput.value;\n\n    pixabayAPI\n    .getImages(query)\n    .then(data => {\n        if (data.hits.length === 0) {\n          iziToast.error({\n            title: '',\n            backgroundColor: '#EF4040',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n          });\n        } else {\n            renderImgs(data);\n            const lightbox = new SimpleLightbox('.gallery a', options);\n            lightbox.on('show.sipmlelightbox');\n            lightbox.refresh();\n            form.reset();\n            }\n        })\n    .catch(error => {\n        console.log(error);\n    })\n    .finally(() =>{\n        removeLoader();\n    \n    });\n});"],"names":["PixabayAPI","query","url","res","templateImg","webformatURL","largeImageURL","tags","likes","views","comments","downloads","templateImgs","imgs","renderImgs","markup","gallery","form","userInput","containerDiv","pixabayAPI","showLoader","loader","options","removeLoader","e","data","iziToast","lightbox","SimpleLightbox","error"],"mappings":"6vBAAO,MAAMA,CAAU,CACnB,aAAc,CACV,KAAK,SAAW,sBAChB,KAAK,UAAY,QACjB,KAAK,QAAU,0CACf,KAAK,iBAAmB,0DAC3B,CACD,UAAUC,EAAM,CACZ,MAAMC,EAAM,KAAK,SAAW,KAAK,UAAY,KAAK,QAAU,MAAM,mBAAmBD,CAAK,CAAC,GAAK,KAAK,iBACrG,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC3C,CACL,CCVA,SAASC,EAAY,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAE,CACxF,MAAO,qCAAqCL,CAAa;AAAA,sCACvBD,CAAY,UAAUE,CAAI;AAAA,uBACzCC,CAAK;AAAA,uBACLC,CAAK;AAAA,0BACFC,CAAQ;AAAA,2BACPC,CAAS;AAAA,UAEpC,CACA,SAASC,EAAaC,EAAK,CACvB,OAAOA,EAAK,KAAK,IAAIT,CAAW,EAAE,KAAK,EAAE,CAC7C,CACO,SAASU,EAAWD,EAAK,CAC5B,MAAME,EAASH,EAAaC,CAAI,EAChCG,EAAQ,UAAYD,CACxB,CCLA,MAAME,EAAO,SAAS,cAAc,OAAO,EAC9BD,EAAU,SAAS,cAAc,UAAU,EAClDE,EAAY,SAAS,cAAc,OAAO,EAC1CC,EAAe,SAAS,cAAc,YAAY,EAClDC,EAAa,IAAIpB,EACjBqB,EAAa,IAAM,CACrB,MAAMC,EAAS,SAAS,cAAc,MAAM,EAC5CA,EAAO,UAAU,IAAI,QAAQ,EAC7BH,EAAa,OAAOG,CAAM,CAC9B,EAEMC,EAAU,CACZ,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,UAAW,GACf,EAEMC,EAAe,IAAM,CACvB,MAAMF,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACAA,EAAO,OAAM,CAErB,EAEAL,EAAK,iBAAiB,SAAUQ,GAAI,CAChCJ,IACAI,EAAE,eAAc,EAChB,MAAMxB,EAAQiB,EAAU,MAExBE,EACC,UAAUnB,CAAK,EACf,KAAKyB,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACvBC,EAAS,MAAM,CACb,MAAO,GACP,gBAAiB,UACjB,QACE,0EACd,CAAW,MACI,CACHb,EAAWY,CAAI,EACf,MAAME,EAAW,IAAIC,EAAe,aAAcN,CAAO,EACzDK,EAAS,GAAG,qBAAqB,EACjCA,EAAS,QAAO,EAChBX,EAAK,MAAK,CACT,CACb,CAAS,EACJ,MAAMa,GAAS,CACZ,QAAQ,IAAIA,CAAK,CACzB,CAAK,EACA,QAAQ,IAAK,CACVN,GAER,CAAK,CACL,CAAC"}